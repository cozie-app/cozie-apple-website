"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[467],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=i.createContext({}),l=function(e){var t=i.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=l(e.components);return i.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},f=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=l(n),f=r,m=p["".concat(u,".").concat(f)]||p[f]||d[f]||o;return n?i.createElement(m,a(a({ref:t},s),{},{components:n})):i.createElement(m,a({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=f;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c[p]="string"==typeof e?e:r,a[1]=c;for(var l=2;l<o;l++)a[l]=n[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}f.displayName="MDXCreateElement"},2779:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return b},frontMatter:function(){return u},metadata:function(){return s},toc:function(){return d}});var i=n(7462),r=n(3366),o=(n(7294),n(3905)),a=n(4996),c=["components"],u={id:"backend_push_notifcations",title:"Sending Push Notifications",sidebar_label:"Push Notifications"},l=void 0,s={unversionedId:"backend/backend_push_notifcations",id:"backend/backend_push_notifcations",title:"Sending Push Notifications",description:"Overview",source:"@site/docs/7_backend/05_push_notifications.md",sourceDirName:"7_backend",slug:"/backend/backend_push_notifcations",permalink:"/docs/backend/backend_push_notifcations",draft:!1,editUrl:"https://github.com/cozie-app/cozie-apple-website/tree/master/docs/7_backend/05_push_notifications.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"backend_push_notifcations",title:"Sending Push Notifications",sidebar_label:"Push Notifications"},sidebar:"myAutogeneratedSidebar",previous:{title:"Retrieveing data",permalink:"/docs/backend/backend_retrieving_cozie_data"},next:{title:"Troubleshooting",permalink:"/docs/troubleshooting"}},p={},d=[{value:"Overview",id:"overview",level:2},{value:"Lambda function code",id:"lambda-function-code",level:2},{value:"Settings",id:"settings",level:3}],f={toc:d},m="wrapper";function b(e){var t=e.components,n=(0,r.Z)(e,c);return(0,o.kt)(m,(0,i.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("img",{alt:"Data flow for push notifications",src:(0,a.Z)("img/backend/backend_push_notification.jpg"),width:"60%"}),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"We use OneSignal as a push notification service provider. We offer an API to send push notifications to Cozie.\nIf you want to send push notifications to Cozie independent of us, you will need to copy the Cozie source code and publish your own version of the Cozie app, while doing so you need to setup your own OneSignal account and replace the OneSignal credentials in the Cozie source code."),(0,o.kt)("h2",{id:"lambda-function-code"},"Lambda function code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="Lambda function"',title:'"Lambda','function"':!0},"")),(0,o.kt)("h3",{id:"settings"},"Settings"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Timeout:  min  sec"),(0,o.kt)("li",{parentName:"ul"},"Memory:  MB"),(0,o.kt)("li",{parentName:"ul"},"Ephemeral storage:  MB"),(0,o.kt)("li",{parentName:"ul"},"Function URL:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Auth type: None"),(0,o.kt)("li",{parentName:"ul"},"Invoice mode: Buffered"),(0,o.kt)("li",{parentName:"ul"},"CORS: Not enabled"))),(0,o.kt)("li",{parentName:"ul"},"Environment variables:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"DB_HOST: XXX.influxcloud.net"),(0,o.kt)("li",{parentName:"ul"},"DB_NAME: cozie-apple"),(0,o.kt)("li",{parentName:"ul"},"DB_PASSWORD: XXX"),(0,o.kt)("li",{parentName:"ul"},"DB_USER:")))))}b.isMDXComponent=!0}}]);