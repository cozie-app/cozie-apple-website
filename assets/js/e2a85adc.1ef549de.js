"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9104],{5498:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>c});var o=i(4848),n=i(8453);i(6025);const t={id:"coziepy",title:"CoziePy",sidebar_label:"Cozie Python Package"},l="CoziePy: Python Package for Cozie",s={id:"cozie_python_package/coziepy",title:"CoziePy",description:"We have created a Python package for Cozie to make data wrangling with Cozie data as convenient as possible. The package is called CoziePy and is available on pypi.org",source:"@site/docs/6_cozie_python_package/cozie_python_package.md",sourceDirName:"6_cozie_python_package",slug:"/cozie_python_package/coziepy",permalink:"/docs/cozie_python_package/coziepy",draft:!1,unlisted:!1,editUrl:"https://github.com/cozie-app/cozie-apple-website/tree/master/docs/6_cozie_python_package/cozie_python_package.md",tags:[],version:"current",frontMatter:{id:"coziepy",title:"CoziePy",sidebar_label:"Cozie Python Package"},sidebar:"myAutogeneratedSidebar",previous:{title:"QR Code",permalink:"/docs/deployment/qr_code"},next:{title:"Customize Cozie",permalink:"/docs/customize_cozie_app/customize_cozie"}},p={},c=[{value:"Import CoziePy and create a <code>Cozie</code> instance",id:"import-coziepy-and-create-a-cozie-instance",level:3},{value:"Parse from Cozie app log file",id:"parse-from-cozie-app-log-file",level:3},{value:"Download data using the web API",id:"download-data-using-the-web-api",level:3},{value:"Load data from previously processed data",id:"load-data-from-previously-processed-data",level:3},{value:"Plotting",id:"plotting",level:2},{value:"Plot time-series data for one participant",id:"plot-time-series-data-for-one-participant",level:3}];function r(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.h1,{id:"coziepy-python-package-for-cozie",children:"CoziePy: Python Package for Cozie"}),"\n",(0,o.jsxs)(a.p,{children:["We have created a Python package for Cozie to make data wrangling with Cozie data as convenient as possible. The package is called CoziePy and is available on ",(0,o.jsx)(a.a,{href:"https://pypi.org/project/coziepy/",children:"pypi.org"})]}),"\n",(0,o.jsx)(a.p,{children:"The packages helps with download in Cozie data from the backend, parsing the log file from the Cozie app, and it as some plotting functionality."}),"\n",(0,o.jsx)("b",{children:(0,o.jsx)(a.p,{children:"Please note the CoziePy is still in early development. Hence, frequent changes are to be expected."})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h1,{id:"load-data",children:"Load data"}),"\n",(0,o.jsx)(a.p,{children:"There are several ways to load Cozie data. We have listed a few examples below."}),"\n",(0,o.jsxs)(a.h3,{id:"import-coziepy-and-create-a-cozie-instance",children:["Import CoziePy and create a ",(0,o.jsx)(a.code,{children:"Cozie"})," instance"]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-python",children:"from coziepy import Cozie\ncozie = Cozie()\n"})}),"\n",(0,o.jsx)(a.h3,{id:"parse-from-cozie-app-log-file",children:"Parse from Cozie app log file"}),"\n",(0,o.jsxs)(a.p,{children:[(0,o.jsx)(a.code,{children:"log_file"})," is the path to the file ",(0,o.jsx)(a.a,{href:"/docs/download_data/download",children:"downloaded from within the Cozie app"}),"."]}),"\n",(0,o.jsxs)(a.p,{children:[(0,o.jsx)(a.code,{children:"output_file"})," is an optional input parameter to save the Cozie dataframe as zipped parquet file. Alternatively, .csv is also a valid file extension but results in approximately ten times larger files."]}),"\n",(0,o.jsxs)(a.p,{children:[(0,o.jsx)(a.code,{children:"clean_up"})," currently needs to set to 'False' when parsing offline log files."]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-python",children:'df = cozie.load(\n    log_file="/content/cozie_example_participant_01_example_experiment_logs.txt",\n    clean_up=False,\n    output_file="example.parquet.gzip",\n)\ndf.head()\n'})}),"\n",(0,o.jsx)(a.h3,{id:"download-data-using-the-web-api",children:"Download data using the web API"}),"\n",(0,o.jsxs)(a.p,{children:[(0,o.jsx)(a.code,{children:"api_key"})," is provided by us. Please contact us at ",(0,o.jsx)(a.a,{href:"mailto:cozie.app@gmail.com",children:"cozie.app@gmail.com"})," if you need one."]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-python",children:'df = cozie.load(\n    id_experiment="example_experiment",\n    participant_list=["example_participant_01", "example_participant_02"],\n    timezone="Asia/Singapore",\n    api_url="https://m7cy76lxmi.execute-api.ap-southeast-1.amazonaws.com/default/cozie-apple-researcher-read-influx",\n    api_key="XXX",\n    output_file="example.parquet.gzip",\n)\ndf.head()\n\n'})}),"\n",(0,o.jsx)(a.h3,{id:"load-data-from-previously-processed-data",children:"Load data from previously processed data"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-python",children:'df = cozie.load(input_file="example.parquet.gzip")\ndf.head()\n'})}),"\n",(0,o.jsx)(a.h2,{id:"plotting",children:"Plotting"}),"\n",(0,o.jsx)(a.p,{children:"CoziePy has some plotting functionality which is mainly focused on experiment monitoring and debugging. In the examples below it is assumed that you have already generated a Pandas dataframe containing Cozie data using one of the examples above."}),"\n",(0,o.jsx)(a.h3,{id:"plot-time-series-data-for-one-participant",children:"Plot time-series data for one participant"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-python",children:'fig, ax = cp.ts_inspection(\n    id_participant="example_participant_01", column_name="ts_heart_rate"\n)\n'})})]})}function d(e={}){const{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}},8453:(e,a,i)=>{i.d(a,{R:()=>l,x:()=>s});var o=i(6540);const n={},t=o.createContext(n);function l(e){const a=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),o.createElement(t.Provider,{value:a},e.children)}}}]);